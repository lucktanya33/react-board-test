(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(t,e,n){"use strict";n.r(e);var c,i,o,r,a,s,b,j,d,l,u,h,O,p,m,f=n(0),x=n(9),g=n.n(x),v=n(4),y=n(3),S=n(2),k=n(1),w=S.b.div(c||(c=Object(y.a)(["\n  width: 360px;\n  margin: 0 auto;\n"]))),E=S.b.h1(i||(i=Object(y.a)(["\n  color: #333;\n"]))),T=S.b.form(o||(o=Object(y.a)(["\n  margin-top: 16px;\n"]))),D=S.b.textarea(r||(r=Object(y.a)(["\n  width: 100%;\n"]))),J=S.b.button(a||(a=Object(y.a)(["\n  margin-top: 8px;\n"]))),_=S.b.button(s||(s=Object(y.a)(["\n  margin-top: 8px;\n"]))),C=S.b.div(b||(b=Object(y.a)(["\n  margin-top: 16px;\n"]))),L=S.b.div(j||(j=Object(y.a)(["\n  border: 1px solid black;\n  border-radius: 8px;\n  padding: 8px 16px;\n\n  &:not(:first-child) {\n    margin-top: 12px;\n  }\n"]))),z=S.b.div(d||(d=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid lightgrey;\n  padding-bottom: 4px;\n"]))),A=S.b.div(l||(l=Object(y.a)(["\n  color: black;\n"]))),B=S.b.div(u||(u=Object(y.a)(["\n  color: black;\n"]))),F=S.b.div(h||(h=Object(y.a)([""]))),I=S.b.div(O||(O=Object(y.a)([""]))),N=S.b.div(p||(p=Object(y.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])));function P(t){var e=t.id,n=t.author,c=t.time,i=t.children,o=t.deleteTest;return Object(k.jsxs)(L,{children:[Object(k.jsxs)(z,{children:[Object(k.jsx)(B,{children:e}),Object(k.jsx)(A,{children:n}),Object(k.jsx)(F,{children:c})]}),Object(k.jsx)(I,{children:i}),Object(k.jsx)(_,{onClick:function(){return o(e)},children:"\u522a\u9664"})]})}var q=S.b.div(m||(m=Object(y.a)(["\n  color: red;\n"])));var G=function(){var t=Object(f.useState)([]),e=Object(v.a)(t,2),n=e[0],c=e[1],i=Object(f.useState)(),o=Object(v.a)(i,2),r=o[0],a=o[1],s=Object(f.useState)(null),b=Object(v.a)(s,2),j=b[0],d=b[1],l=Object(f.useState)(null),u=Object(v.a)(l,2),h=u[0],O=u[1],p=Object(f.useState)(!1),m=Object(v.a)(p,2),x=m[0],g=m[1],y=function(){fetch("https://student-json-api.lidemy.me/comments").then((function(t){return t.json()})).then((function(t){c(t)})).catch((function(t){d(t.message)}))};Object(f.useEffect)((function(){y()}),[]);var S=function(t){fetch("https://student-json-api.lidemy.me/comments/".concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then((function(t){return y()})).catch((function(t){return console.log(t)}))};return Object(k.jsxs)(w,{children:[x&&Object(k.jsx)(N,{children:"\u6b63\u5728\u9001\u51fa..."}),Object(k.jsx)(E,{children:"\u7559\u8a00\u677f"}),Object(k.jsxs)(T,{onSubmit:function(t){t.preventDefault(),x||(g(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"hey",body:r})}).then((function(t){return t.json()})).then((function(t){if(console.log(t),g(!1),0===t.ok)return g(!1),void O(t.message);y(),a("")})).catch((function(t){g(!1),O(t.message)})))},children:[Object(k.jsx)(D,{rows:10,value:r,onChange:function(t){a(t.target.value)},onFocus:function(){O(null)}}),Object(k.jsx)(J,{children:"\u9001\u51fa\u7559\u8a00"}),h&&Object(k.jsx)(q,{children:h})]}),j&&Object(k.jsxs)(q,{children:["Something went wrong: ",j.toString()]}),Object(k.jsx)(C,{children:n.map((function(t){return Object(k.jsx)(P,{id:t.id,author:t.nickname,time:new Date(t.createdAt).toLocaleString(),deleteTest:S,children:t.body},t.id)}))})]})};g.a.render(Object(k.jsx)(S.a,{theme:{colors:{red_300:"#ff7979",red_400:"#e33e3e",red_500:"#af0505"}},children:Object(k.jsx)(G,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e8711912.chunk.js.map